<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>ass3: Main Page</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ass3 Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="manifest" style="padding: 5px; background-color: #eee; border: 1px solid #333; float: right; width: 25%;">
<h3>ass3</h3>
<p class=description><em>The ass3 package</em></p>
<p>
<ul>
<li>Homepage: <a href="http://wiki.ros.org/ass3">http://wiki.ros.org/ass3</a></li>
</ul>
</p>

</div>
<h1><a class="anchor" id="package"></a>
The ass3 package</h1>
<p>The package contains a single node <code>ass3</code> which is part of the <code>ass3_ex</code> executable. It also contains a library named ass3_lib and unit tests included for the library</p>
<p>The ass3_ex</p><ul>
<li>leverages <a class="el" href="main_8cpp.html">main.cpp</a> to create an instance of topic_handler class</li>
<li>The  class handles all the neccessary topic subscriptions and callbacks. These are the 4 following, <a class="el" href="classTopicHandler.html#a4acb7471bfed97089e137d15a82a3a97">TopicHandler::odomCallback0</a> (listening to robot_0/odom), ::odomCallback1 (listening to robot_1/odom), <a class="el" href="classTopicHandler.html#a1758dc04d859c819b1218ecc15a05144">TopicHandler::laserCallback</a> (listening to robot_0/base_scan) and <a class="el" href="classTopicHandler.html#af6d067b68995fe69222d09ce3a7c3c26">TopicHandler::occupancyGridCallback</a> (listening to local_map/local_map)</li>
<li><a class="el" href="main_8cpp.html">main.cpp</a> also creates a thread TopicHandler.seperateThread which runs at 2Hz (every 0.5s) and is responsible for taking the data recieved from the topics, collecting it and then passing it to the other class  <a class="el" href="findnfollow_8cpp.html">findnfollow.cpp</a> and  <a class="el" href="findnfollow__adv_8cpp.html">findnfollow_adv.cpp</a></li>
</ul>
<h1><a class="anchor" id="usage"></a>
Starting the node</h1>
<p>You'll need to start a roscore, and then need to start the project_setup package along with the path following node, as follows;<br />
 </p><div class="fragment"><div class="line">roslaunch project_setup project_setup.launch</div><div class="line">rosrun pfms_path_following pfms_path_following-velocity_control </div><div class="line">rosrun ass3 ass3_ex _mode:=1</div></div><!-- fragment --><p> The "_mode:=1" term sets the node mode. 1 = basic mode and 2 = advanced mode. Any other numbers should result in basic mode.</p>
<h1><a class="anchor" id="behaviour"></a>
Code inner workings</h1>
<p>The a3_skeleton node with it's respective publishers and subscriber topics.</p>
<div class="image">
<img src="doc/pic/rosgraph.png" alt="rosgraph.png" width="50%"/>
</div>
<p>There is a single thread in the Sample class called Sample.seperateThread which runs at 0.1Hz (every 10s) and on each loop</p><ul>
<li>Obtains latest OccupancyGrid grid (via mutex)</li>
<li>Uses <a class="el" href="classGridProcessing.html">GridProcessing</a> and the member function <a class="el" href="classGridProcessing.html#a630be91681416803d0a353dc04e08ae7">GridProcessing::checkConnectivity</a> function to search through the grid to see if two points (specified in world coordinates) can be conneted via a straigh line that goes through free space. The first point on this line (origin) is the robot position and the second x=1,y=0 (destination). As the OccupancyGrid is in local (robot coordinates) and the robot at the centre of it, we convert both points to local coordinates). The outcome of the connectivity search is published as two verbosity levels: INFO or WARN message (point can / can't be reached),</li>
<li>We publishes location (x=1,y=0) as a sphere to /visualisation_markers topic as a visualization_msgs::MarkerArray, in namespace "test", of size 0.5x0.5x0.5 and green in colour, and it is visible for 10.0s (to coincide with the rate of runnign the loop)</li>
</ul>
<h2><a class="anchor" id="rviz"></a>
Example of Rviz</h2>
<p>Here we show a subsection example (in the minpage.dox) for stduents :) <br />
</p>
<p>A screenshot of rviz indicating what the code will produce when running it IS BELOW.</p>
<div class="image">
<img src="doc/pic/rviz.png" alt="rviz.png" width="50%"/>
</div>
<h1><a class="anchor" id="grid_processing"></a>
GridProcessing Library</h1>
<p>The <a class="el" href="classGridProcessing.html">GridProcessing</a> is extensively documented, supplied are also unit tests which confirm the behaviour of the library. To compile uints test <code>catkin make tests</code> and you running tests via <code>rosrun a3_skeleton a3_skeleton_grid_processing_test</code> </p>
</div></div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/ass3">ass3</a><br />
Author(s): </br />
<small>autogenerated on Thu Nov 4 2021 21:42:40</small>
</div>
</body>
</html>
